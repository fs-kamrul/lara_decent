$(document).ready((function(){$(document).on("click",".list-search-data .selectable-item",(function(a){a.preventDefault();var e=$(a.currentTarget),r=e.closest(".form-group").find("input[type=hidden]"),t=[];if($.each(r.val().split(","),(function(a,e){e&&""!==e&&(t[a]=parseInt(e))})),$.inArray(e.data("id"),t)<0){r.val()?r.val(r.val()+","+e.data("id")):r.val(e.data("id"));var d=$(document).find("#selected_product_list_template").html().replace(/__name__/gi,e.data("name")).replace(/__id__/gi,e.data("id")).replace(/__index__/gi,t.length).replace(/__url__/gi,e.data("url")).replace(/__image__/gi,e.data("image")).replace(/__price__/gi,e.data("price")).replace(/__attributes__/gi,e.find("a span").text());e.closest(".form-group").find(".list-selected-products").removeClass("hidden"),e.closest(".form-group").find(".list-selected-products table tbody").append(d)}e.closest(".panel").addClass("hidden")})),$(document).on("click",".textbox-advancesearch",(function(a){var e=$(a.currentTarget),r=e.closest(".box-search-advance").find(".panel");r.removeClass("hidden"),r.addClass("active"),0===r.find(".panel-body").length&&(kamruldashboard.blockUI({target:r,iconOnly:!0,overlayColor:"none"}),$.ajax({url:e.data("target"),type:"GET",success:function(a){a.error?kamruldashboard.showError(a.message):(r.html(a.data),kamruldashboard.unblockUI(r))},error:function(a){kamruldashboard.handleError(a),kamruldashboard.unblockUI(r)}}))})),$(document).on("keyup",".textbox-advancesearch",(function(a){var e=$(a.currentTarget),r=e.closest(".box-search-advance").find(".panel");setTimeout((function(){kamruldashboard.blockUI({target:r,iconOnly:!0,overlayColor:"none"}),$.ajax({url:e.data("target")+"?keyword="+e.val(),type:"GET",success:function(a){a.error?kamruldashboard.showError(a.message):(r.html(a.data),kamruldashboard.unblockUI(r))},error:function(a){kamruldashboard.handleError(a),kamruldashboard.unblockUI(r)}})}),500)})),$(document).on("click",".box-search-advance .page-link",(function(a){a.preventDefault();var e=$(a.currentTarget).closest(".box-search-advance").find(".textbox-advancesearch");if(!e.closest(".page-item").hasClass("disabled")&&e.data("target")){var r=e.closest(".box-search-advance").find(".panel");kamruldashboard.blockUI({target:r,iconOnly:!0,overlayColor:"none"}),$.ajax({url:$(a.currentTarget).prop("href")+"&keyword="+e.val(),type:"GET",success:function(a){a.error?kamruldashboard.showError(a.message):(r.html(a.data),kamruldashboard.unblockUI(r))},error:function(a){kamruldashboard.handleError(a),kamruldashboard.unblockUI(r)}})}})),$(document).on("click","body",(function(a){var e=$(".box-search-advance");e.is(a.target)||0!==e.has(a.target).length||e.find(".panel").addClass("hidden")})),$(document).on("click",".btn-trigger-remove-selected-product",(function(a){a.preventDefault();var e=$(a.currentTarget).closest(".form-group").find("input[type=hidden]"),r=e.val().split(",");$.each(r,(function(a,e){e=e.trim(),_.isEmpty(e)||(r[a]=parseInt(e))}));var t=r.indexOf($(a.currentTarget).data("id"));t>-1&&delete r[t],e.val(r.join(",")),$(a.currentTarget).closest("tbody").find("tr").length<2&&$(a.currentTarget).closest(".list-selected-products").addClass("hidden"),$(a.currentTarget).closest("tbody").find("tr[data-product-id="+$(a.currentTarget).data("id")+"]").remove()}))}));