(()=>{function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},o(t)}function t(t,r){for(var e=0;e<r.length;e++){var a=r[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,(n=a.key,l=void 0,l=function(t,r){if("object"!==o(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,r||"default");if("object"!==o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(n,"string"),"symbol"===o(l)?l:String(l)),a)}var n,l}var r=function(){function o(){!function(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}var r,e,a;return r=o,(e=[{key:"init",value:function(){$(document).on("click",".btn-trigger-show-store-locator",(function(o){o.preventDefault();var t,r=$(o.currentTarget);t="update"===r.data("type")?$("#update-store-locator-modal .modal-body"):$("#add-store-locator-modal .modal-body"),$.ajax({url:r.data("load-form"),type:"GET",beforeSend:function(){r.addClass("button-loading"),t.html("")},success:function(o){o.error?kamruldashboard.showError(o.message):(t.html(o.data),kamruldashboard.initResources(),t.closest(".modal.fade").modal("show")),r.removeClass("button-loading")},complete:function(){r.removeClass("button-loading")},error:function(o){r.removeClass("button-loading"),kamruldashboard.handleError(o)}})}));var o=function(o){o.addClass("button-loading"),$.ajax({type:"POST",cache:!1,url:o.closest(".modal-content").find("form").prop("action"),data:o.closest(".modal-content").find("form").serialize(),success:function(t){t.error?(kamruldashboard.showError(t.message),o.removeClass("button-loading")):(kamruldashboard.showSuccess(t.message),$(".store-locator-wrap").load(window.location.href+" .store-locator-wrap > *"),o.removeClass("button-loading"),o.closest(".modal.fade").modal("hide"))},error:function(t){kamruldashboard.handleError(t),o.removeClass("button-loading")}})};$(document).on("click","#add-store-locator-button",(function(t){t.preventDefault(),o($(t.currentTarget))})),$(document).on("click","#update-store-locator-button",(function(t){t.preventDefault(),o($(t.currentTarget))})),$(document).on("click",".btn-trigger-delete-store-locator",(function(o){o.preventDefault(),$("#delete-store-locator-button").data("target",$(o.currentTarget).data("target")),$("#delete-store-locator-modal").modal("show")})),$(document).on("click","#delete-store-locator-button",(function(o){o.preventDefault();var t=$(o.currentTarget);t.addClass("button-loading"),$.ajax({type:"POST",cache:!1,url:t.data("target"),success:function(o){o.error?(kamruldashboard.showError(o.message),t.removeClass("button-loading")):(kamruldashboard.showSuccess(o.message),$(".store-locator-wrap").load(window.location.href+" .store-locator-wrap > *"),t.removeClass("button-loading"),t.closest(".modal.fade").modal("hide"))},error:function(o){kamruldashboard.handleError(o),t.removeClass("button-loading")}})})),$(document).on("click","#change-primary-store-locator-button",(function(o){o.preventDefault();var t=$(o.currentTarget);t.addClass("button-loading"),$.ajax({type:"POST",cache:!1,url:t.closest(".modal-content").find("form").prop("action"),data:t.closest(".modal-content").find("form").serialize(),success:function(o){o.error?(kamruldashboard.showError(o.message),t.removeClass("button-loading")):(kamruldashboard.showSuccess(o.message),$(".store-locator-wrap").load(window.location.href+" .store-locator-wrap > *"),t.removeClass("button-loading"),t.closest(".modal.fade").modal("hide"))},error:function(o){kamruldashboard.handleError(o),t.removeClass("button-loading")}})}))}}])&&t(r.prototype,e),a&&t(r,a),Object.defineProperty(r,"prototype",{writable:!1}),o}();$(document).ready((function(){(new r).init()}))})();